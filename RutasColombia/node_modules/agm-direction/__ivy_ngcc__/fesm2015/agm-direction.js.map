{"version":3,"file":"agm-direction.js","sources":["../package/src/directive/agm-direction.directive.ts","../package/src/modules/agm-direction.module.ts","../package/src/agm-direction.ts","../package/public_api.ts","../package/agm-direction.ts"],"names":[],"mappings":"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","sourcesContent":["import { Directive, Input, Output, OnChanges, OnInit, EventEmitter, OnDestroy } from '@angular/core';\r\nimport { GoogleMapsAPIWrapper } from '@agm/core';\r\n\r\n@Directive({\r\n  selector: 'agm-direction',\r\n})\r\nexport class AgmDirection implements OnChanges, OnInit, OnDestroy {\r\n\r\n  @Input() origin: string | google.maps.Place | google.maps.LatLng | google.maps.LatLngLiteral;\r\n\r\n  @Input() destination: string | google.maps.Place | google.maps.LatLng | google.maps.LatLngLiteral;\r\n\r\n  @Input() travelMode?: google.maps.TravelMode;\r\n\r\n  @Input() transitOptions?: google.maps.TransitOptions;\r\n\r\n  @Input() drivingOptions?: google.maps.DrivingOptions;\r\n\r\n  @Input() waypoints: google.maps.DirectionsWaypoint[] = [];\r\n\r\n  @Input() optimizeWaypoints = true;\r\n\r\n  @Input() provideRouteAlternatives = false;\r\n\r\n  @Input() avoidHighways = false;\r\n\r\n  @Input() avoidTolls = false;\r\n\r\n  @Input() renderOptions?: google.maps.DirectionsRendererOptions;\r\n\r\n  @Input() panel?: Element;\r\n\r\n  @Input() markerOptions: {\r\n    origin: google.maps.MarkerOptions,\r\n    destination: google.maps.MarkerOptions,\r\n    waypoints: google.maps.MarkerOptions,\r\n  } = { origin: {}, destination: {}, waypoints: {} };\r\n\r\n  @Input() infoWindow: google.maps.InfoWindow;\r\n\r\n  // Remove or draw direction\r\n  @Input() visible = true;\r\n\r\n  // Render exist direction\r\n  @Input() renderRoute?: google.maps.DirectionsResult | null;\r\n\r\n  // Direction change event handler\r\n  @Output() onChange: EventEmitter<google.maps.DirectionsResult> = new EventEmitter<google.maps.DirectionsResult>();\r\n\r\n  // Direction response for the new request\r\n  @Output() onResponse: EventEmitter<google.maps.DirectionsResult> = new EventEmitter<google.maps.DirectionsResult>();\r\n\r\n  // Send a custom infowindow\r\n  @Output() sendInfoWindow: EventEmitter<google.maps.InfoWindow> = new EventEmitter<google.maps.InfoWindow>();\r\n\r\n  // Status of Directions Query (google.maps.DirectionsStatus.OVER_QUERY_LIMIT)\r\n  @Output() status: EventEmitter<google.maps.DirectionsStatus> = new EventEmitter<google.maps.DirectionsStatus>();\r\n\r\n  // Marker drag event handler\r\n  @Output() originDrag: EventEmitter<any> = new EventEmitter<any>();\r\n  @Output() destinationDrag: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  public directionsService: google.maps.DirectionsService;\r\n  public directionsRenderer: google.maps.DirectionsRenderer;\r\n\r\n  // Use for custom marker\r\n  private originMarker?: any;\r\n  private destinationMarker?: any;\r\n  private waypointsMarker: Array<google.maps.Marker> = [];\r\n\r\n  // Use for visible flag\r\n  private isFirstChange = true;\r\n\r\n  constructor(\r\n    private gmapsApi: GoogleMapsAPIWrapper,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    if (this.visible === true) {\r\n      this.directionDraw();\r\n    }\r\n  }\r\n\r\n  ngOnChanges(obj: any) {\r\n    /**\r\n     * When visible is false then remove the direction layer\r\n     */\r\n    if (!this.visible) {\r\n      try {\r\n        this.removeMarkers();\r\n        this.removeDirections();\r\n      } catch (e) { }\r\n    } else {\r\n      if (this.isFirstChange) {\r\n        /**\r\n         * When visible is false at the first time\r\n         */\r\n        if (typeof this.directionsRenderer === 'undefined') {\r\n          this.directionDraw();\r\n        }\r\n        this.isFirstChange = false;\r\n        return;\r\n      }\r\n\r\n      /**\r\n       * When renderOptions are not first change then reset the display\r\n       */\r\n      if (typeof obj.renderOptions !== 'undefined') {\r\n        if (obj.renderOptions.firstChange === false) {\r\n          this.removeMarkers();\r\n          this.removeDirections();\r\n        }\r\n      }\r\n      this.directionDraw();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroyMarkers();\r\n    this.removeDirections();\r\n  }\r\n\r\n  /**\r\n   * This event is fired when the user creating or updating this direction\r\n   */\r\n  private directionDraw() {\r\n    this.gmapsApi.getNativeMap().then(_map => {\r\n\r\n      const map = _map as unknown as google.maps.Map<Element>;\r\n\r\n      if (typeof this.directionsRenderer === 'undefined') {\r\n        this.directionsRenderer = new google.maps.DirectionsRenderer(this.renderOptions);\r\n        // @ts-ignore\r\n        this.directionsRenderer.setMap(map);\r\n        this.directionsRenderer.addListener('directions_changed', () => {\r\n          this.onChange.emit(this.directionsRenderer.getDirections());\r\n        });\r\n      }\r\n\r\n      if (typeof this.directionsService === 'undefined') {\r\n        this.directionsService = new google.maps.DirectionsService();\r\n      }\r\n\r\n      if (typeof this.panel === 'undefined') {\r\n        // @ts-ignore\r\n        this.directionsRenderer.setPanel(null);\r\n      } else {\r\n        this.directionsRenderer.setPanel(this.panel);\r\n      }\r\n\r\n      // Render exist direction\r\n      if (this.renderRoute) {\r\n        this.directionsRenderer.setDirections(this.renderRoute);\r\n        this.renderRoute = undefined;\r\n      } else {\r\n\r\n        // Request new direction\r\n        this.directionsService.route({\r\n          origin: this.origin,\r\n          destination: this.destination,\r\n          travelMode: this.travelMode || google.maps.TravelMode.DRIVING,\r\n          transitOptions: this.transitOptions,\r\n          drivingOptions: this.drivingOptions,\r\n          waypoints: this.waypoints,\r\n          optimizeWaypoints: this.optimizeWaypoints,\r\n          provideRouteAlternatives: this.provideRouteAlternatives,\r\n          avoidHighways: this.avoidHighways,\r\n          avoidTolls: this.avoidTolls,\r\n        }, (response, status) => {\r\n\r\n          this.onResponse.emit(response);\r\n\r\n          // Emit Query Status\r\n          this.status.emit(status);\r\n\r\n          /**\r\n           * DirectionsStatus\r\n           * https://developers.google.com/maps/documentation/javascript/directions#DirectionsStatus\r\n           */\r\n          switch (status) {\r\n            case google.maps.DirectionsStatus.OK:\r\n\r\n              this.directionsRenderer.setDirections(response);\r\n\r\n              /**\r\n               * Emit The DirectionsResult Object\r\n               * https://developers.google.com/maps/documentation/javascript/directions?hl=en#DirectionsResults\r\n               */\r\n              // Custom Markers\r\n              if (typeof this.markerOptions !== 'undefined') {\r\n\r\n                this.destroyMarkers();\r\n\r\n                // Set custom markers\r\n                const _route = response.routes[0].legs[0];\r\n                try {\r\n                  // Origin Marker\r\n                  if (typeof this.markerOptions.origin !== 'undefined') {\r\n                    this.markerOptions.origin.map = map;\r\n                    this.markerOptions.origin.position = _route.start_location;\r\n                    this.originMarker = this.setMarker(\r\n                      map,\r\n                      this.originMarker,\r\n                      this.markerOptions.origin,\r\n                      _route.start_address,\r\n                    );\r\n\r\n                    if (this.markerOptions.origin.draggable) {\r\n                      this.originMarker.addListener('dragend', () => {\r\n                        this.origin = this.originMarker.position;\r\n                        this.directionDraw();\r\n                        this.originDrag.emit(this.origin);\r\n                      });\r\n                    }\r\n                  }\r\n                  // Destination Marker\r\n                  if (typeof this.markerOptions.destination !== 'undefined') {\r\n                    this.markerOptions.destination.map = map;\r\n                    this.markerOptions.destination.position = _route.end_location;\r\n                    this.destinationMarker = this.setMarker(\r\n                      map,\r\n                      this.destinationMarker,\r\n                      this.markerOptions.destination,\r\n                      _route.end_address,\r\n                    );\r\n                    if (this.markerOptions.destination.draggable) {\r\n                      this.destinationMarker.addListener('dragend', () => {\r\n                        this.destination = this.destinationMarker.position;\r\n                        this.directionDraw();\r\n                        this.destinationDrag.emit(this.destination);\r\n                      });\r\n                    }\r\n                  }\r\n\r\n                  // Waypoints Marker\r\n                  if (typeof this.markerOptions.waypoints !== 'undefined') {\r\n\r\n                    this.waypoints.forEach((waypoint, index) => {\r\n\r\n                      // If waypoints are not array then set all the same\r\n                      if (!Array.isArray(this.markerOptions.waypoints)) {\r\n                        this.markerOptions.waypoints.map = map;\r\n                        this.markerOptions.waypoints.position = _route.via_waypoints[index];\r\n                        this.waypointsMarker.push(this.setMarker(\r\n                          map,\r\n                          waypoint,\r\n                          this.markerOptions.waypoints,\r\n                          _route.via_waypoints[index],\r\n                        ));\r\n                      } else {\r\n                        this.markerOptions.waypoints[index].map = map;\r\n                        this.markerOptions.waypoints[index].position = _route.via_waypoints[index];\r\n                        this.waypointsMarker.push(this.setMarker(\r\n                          map,\r\n                          waypoint,\r\n                          this.markerOptions.waypoints[index],\r\n                          _route.via_waypoints[index],\r\n                        ));\r\n                      }\r\n\r\n                    }); // End forEach\r\n\r\n                  }\r\n                } catch (err) {\r\n                  console.error('MarkerOptions error.', err);\r\n                }\r\n              }\r\n\r\n              break;\r\n\r\n            case google.maps.DirectionsStatus.OVER_QUERY_LIMIT:\r\n              console.warn('The webpage has sent too many requests within the allowed time period.');\r\n              break;\r\n            default:\r\n              // console.warn(status);\r\n              break;\r\n          } // End switch\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Custom Origin and Destination Icon\r\n   * @param map map\r\n   * @param marker marker\r\n   * @param markerOpts properties\r\n   * @param content marker's infowindow content\r\n   * @returns new marker\r\n   * @memberof AgmDirection\r\n   */\r\n  private setMarker(\r\n    map: google.maps.Map,\r\n    marker: google.maps.Marker | google.maps.DirectionsWaypoint,\r\n    markerOpts: any,\r\n    content: google.maps.LatLng | string\r\n  ): google.maps.Marker {\r\n    if (typeof this.infoWindow === 'undefined') {\r\n      this.infoWindow = new google.maps.InfoWindow();\r\n      this.sendInfoWindow.emit(this.infoWindow);\r\n    }\r\n\r\n    marker = new google.maps.Marker(markerOpts);\r\n    // https://developers.google.com/maps/documentation/javascript/reference/marker?hl=zh-tw#MarkerOptions.clickable\r\n    if (marker.getClickable()) {\r\n      marker.addListener('click', () => {\r\n        const infowindoContent: string = typeof markerOpts.infoWindow === 'undefined' ? content : markerOpts.infoWindow;\r\n        this.infoWindow.setContent(infowindoContent);\r\n        this.infoWindow.open(map, marker as google.maps.MVCObject);\r\n      });\r\n    }\r\n    return marker;\r\n  }\r\n\r\n  /**\r\n   * This event is fired when remove markers\r\n   */\r\n  private removeMarkers(): void {\r\n    if (typeof this.originMarker !== 'undefined') {\r\n      this.originMarker.setMap(null);\r\n    }\r\n    if (typeof this.destinationMarker !== 'undefined') {\r\n      this.destinationMarker.setMap(null);\r\n    }\r\n    this.waypointsMarker.forEach((w: any) => {\r\n      if (typeof w !== 'undefined') {\r\n        w.setMap(null);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * This event is fired when remove directions\r\n   */\r\n  private removeDirections(): void {\r\n    if (this.directionsRenderer !== undefined) {\r\n      // @ts-ignore\r\n      this.directionsRenderer.setPanel(null);\r\n      this.directionsRenderer.setMap(null);\r\n      // @ts-ignore\r\n      this.directionsRenderer = undefined;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * This event is fired when destroy markers\r\n   */\r\n  private destroyMarkers(): void {\r\n    // Remove origin markers\r\n    try {\r\n      if (typeof this.originMarker !== 'undefined') {\r\n        google.maps.event.clearListeners(this.originMarker, 'click');\r\n        if (this.markerOptions.origin.draggable) {\r\n          google.maps.event.clearListeners(this.originMarker, 'dragend');\r\n        }\r\n      }\r\n      if (typeof this.destinationMarker !== 'undefined') {\r\n        google.maps.event.clearListeners(this.destinationMarker, 'click');\r\n        if (this.markerOptions.origin.draggable) {\r\n          google.maps.event.clearListeners(this.destinationMarker, 'dragend');\r\n        }\r\n      }\r\n      this.waypointsMarker.forEach((w: any) => {\r\n        if (typeof w !== 'undefined') {\r\n          google.maps.event.clearListeners(w, 'click');\r\n        }\r\n      });\r\n      this.removeMarkers();\r\n\r\n    } catch (err) {\r\n      console.error('Can not reset custom marker.', err);\r\n    }\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { AgmDirection } from '../directive/agm-direction.directive';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AgmDirection,\r\n  ],\r\n  exports: [\r\n    AgmDirection,\r\n  ]\r\n})\r\nexport class AgmDirectionModule {\r\n  public static forRoot(): ModuleWithProviders<AgmDirectionModule> {\r\n    return {\r\n      ngModule: AgmDirectionModule,\r\n    };\r\n  }\r\n\r\n  public static forChild(): ModuleWithProviders<AgmDirectionModule> {\r\n    return {\r\n      ngModule: AgmDirectionModule,\r\n    };\r\n  }\r\n}\r\n","// Public classes.\r\nexport { AgmDirection } from './directive/agm-direction.directive';\r\nexport { AgmDirectionModule } from './modules/agm-direction.module';\r\n","/**\r\n * Angular library starter\r\n * Build an Angular library compatible with AoT compilation & Tree shaking like an official package\r\n * Copyright Roberto Simonetti\r\n * MIT license\r\n * https://github.com/robisim74/angular-library-starter\r\n */\r\n\r\n/**\r\n * Entry point for all public APIs of the package.\r\n */\r\nexport * from './src/agm-direction';\r\nexport * from './src/modules/agm-direction.module';\r\nexport * from './src/directive/agm-direction.directive';\r\n\r\n// This file only reexports content of the `src` folder. Keep it that way.\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"]}